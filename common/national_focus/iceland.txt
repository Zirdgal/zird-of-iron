### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = iceland_tree
	
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = ICE
		}
	}

	default = no

	continuous_focus_position = { x = 20 y = 1000 }  
	
	initial_show_position = {
		x = 20
		y = 0
	}

	#   # ### #   ### ###  ##  ###  #   #      ##  #  # ###      ### ###  ##  #  # 
	## ##  #  #    #   #  #  # #  #  # #      #  # ## # #  #      #  #   #  # #  # 
	# # #  #  #    #   #  #### ###    #       #### # ## #  #      #  ##  #    #### 
	#   #  #  #    #   #  #  # #  #   #       #  # #  # #  #      #  #   #  # #  # 
	#   # ### ### ###  #  #  # #  #   #       #  # #  # ###       #  ###  ##  #  # 

	focus = {
		id = ICE_expand_the_fishing_industry
		icon = GFX_focus_generic_industry_1
		#prerequisite = { focus = }
		mutually_exclusive = { focus = ICE_mineral_prospecting }
		x = 5
		y = 0
		#relative_position_id =
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_ideas = ICE_fishing_industry
		}
	}

	focus = {
		id = ICE_mineral_prospecting
		icon = GFX_focus_generic_steel
		#prerequisite = { focus = }
		mutually_exclusive = { focus = ICE_expand_the_fishing_industry }

		x = 2
		y = 0

		relative_position_id = ICE_expand_the_fishing_industry

		cost = 10

		available = {
			100 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		search_filters = {}

		completion_reward = {
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			} 
			100 = {
				add_resource = {
					type = steel
					amount = 10
				}
				add_resource = {
					type = aluminium
					amount = 6
				}
			}
		}
	}

	focus = {
		id = ICE_agricultural_expansion
		icon = GFX_focus_generic_develop_iceland_silhouette
		prerequisite = { focus = ICE_expand_the_fishing_industry }

		x = -1
		y = 1
		relative_position_id = ICE_expand_the_fishing_industry
		cost = 10
		available = {

		}

		search_filters = {}

		completion_reward = {

			add_stability = 0.05

			every_owned_state = {
				limit = { is_controlled_by = ROOT }
				random_select_amount = 2
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = ICE_off_shore_oil_drilling
		icon = GFX_focus_generic_offshore_oil_rig
		prerequisite = { focus = ICE_mineral_prospecting }

		x = 1
		y = 1
		relative_position_id = ICE_mineral_prospecting
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = off_shore_drilling_tt 
		}
	}


	focus = {
		id = ICE_hydroelectric_power
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = ICE_expand_the_fishing_industry focus = ICE_mineral_prospecting}

		x = 1
		y = 1
		relative_position_id = ICE_expand_the_fishing_industry
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = ICE_the_icelandic_economy_modifier_tt
			add_to_variable = {
				ICE_economy_production_speed_buildings_factor = 0.1
				tooltip = production_speed_buildings_factor_tt
			}
			add_to_variable = {
				ICE_economy_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = {
				ICE_economy_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = {
				ICE_economy_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}

			
			
			
		}
	}

	focus = {
		id = ICE_develop_icelandic_shipping
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = ICE_hydroelectric_power }
		mutually_exclusive = { focus = ICE_heavy_industry focus = ICE_advanced_technology }
		x = -3
		y = 1
		relative_position_id = ICE_hydroelectric_power
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_tech_bonus = {
				name = ICE_develop_icelandic_shipping
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
			add_doctrine_cost_reduction = {
				name = ICE_develop_icelandic_shipping
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = ICE_eimskip
		}
	} 
	focus = {
		id = ICE_heavy_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ICE_hydroelectric_power }
		mutually_exclusive = { focus = ICE_develop_icelandic_shipping focus = ICE_advanced_technology }
		x = 0
		y = 1
		relative_position_id = ICE_hydroelectric_power
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_tech_bonus = {
				name = ICE_heavy_industry
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}
	focus = {
		id = ICE_advanced_technology
		icon = GFX_focus_research2
		prerequisite = { focus = ICE_hydroelectric_power }
		mutually_exclusive = { focus = ICE_develop_icelandic_shipping focus = ICE_heavy_industry }
		x = 3
		y = 1
		relative_position_id = ICE_hydroelectric_power
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ICE_advanced_technology
				bonus = 0.5
				uses = 2
				category = electronics
			}
		}
	}
	focus = {
		id = ICE_reykjavik_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = ICE_develop_icelandic_shipping }

		x = -1
		y = 1

		relative_position_id = ICE_develop_icelandic_shipping

		cost = 10

		available = {
			100 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {
			100 = {
				free_building_slots = {
					building = dockyard
					size = 0
					include_locked = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			IF = {
				limit = {
					100 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				100 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			
		}
	}
	focus = {
		id = ICE_expand_the_harbour
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = ICE_develop_icelandic_shipping focus = ICE_heavy_industry }

		x = 1
		y = 1
		relative_position_id = ICE_develop_icelandic_shipping
		cost = 10
		available = {
			100 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {

			IF = {
				limit = {
					100 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				100 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			IF = {
				limit = {
					100 = {
						naval_base < 10
					}
				}
				100 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 12674
					}
				}
			}
		}
	}
	focus = {
		id = ICE_local_arms_industry
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = ICE_heavy_industry }

		x = 0
		y = 1

		relative_position_id = ICE_heavy_industry

		cost = 10

		available = {
		}

		bypass = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = ICE_infrastructure_development
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ICE_heavy_industry focus = ICE_advanced_technology }

		x = 2
		y = 1
		relative_position_id = ICE_heavy_industry
		cost = 10
		available = {
			100 = {
				is_fully_controlled_by = ROOT
			}
		}

		search_filters = {}

		completion_reward = {
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			build_railway = {
				path = { 12674 13268 13266 13267 }
			}

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
			}
			
		}
	}
	focus = {
		id = ICE_iceland_air
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = ICE_advanced_technology }

		x = 1
		y = 1
		relative_position_id = ICE_advanced_technology
		cost = 10
		available = {
			100 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		search_filters = {}

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = ICE_iceland_air
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			add_equipment_subsidy = {
				cic = 500
				equipment_type = small_plane_airframe
				seller_trigger = ICE_allied_weapons_seller_trigger
			}
			add_equipment_subsidy = {
				cic = 500
				equipment_type = medium_plane_airframe
				seller_trigger = ICE_allied_weapons_seller_trigger 
			}
			IF = {
				limit = {
					100 = {
						air_base < 10
					}
				}
				100 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			
		}
	}
	focus = {
		id = ICE_expand_the_civilian_fleet
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = ICE_reykjavik_dockyards }

		x = 0
		y = 1
		relative_position_id = ICE_reykjavik_dockyards
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {

			add_equipment_to_stockpile = { 
				type = convoy
				amount = 50
				producer = ICE
			}
 
			add_ideas = ICE_civilian_fleet

		}
	}
	focus = {
		id = ICE_industrial_research_school
		icon = GFX_focus_research
		prerequisite = { focus = ICE_local_arms_industry focus = ICE_reykjavik_dockyards focus = ICE_iceland_air }

		x = 0
		y = 1
		relative_position_id = ICE_local_arms_industry
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = ICE_hrafninn_flygur
		icon = GFX_focus_ICE_hrafninn_flygur
		prerequisite = { focus = ICE_iceland_air  }

		x = 0
		y = 1
		relative_position_id = ICE_iceland_air
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = ICE_hrafninn_flygur
				bonus = 0.25
				uses = 2
				category = air_equipment
			} 
			add_doctrine_cost_reduction = {
				name = ICE_hrafninn_flygur
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 50

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
}