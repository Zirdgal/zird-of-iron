focus_tree = {
	id = yugoslavian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = YUG
		}
	}
	
	default = no

	continuous_focus_position = { x = 1000 y = 50 }




	############################
	######### INDUSTRY #########
	############################

	focus = {
		id = YUG_industrialization_program
		icon = GFX_goal_generic_construction
		x = 4
		y = 0

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	focus = {
		id = YUG_expand_the_mining_industry
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = YUG_industrialization_program }
		x = 0
		y = 1
		relative_position_id = YUG_industrialization_program

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_expanded_mining_industry
		}
	}

	focus = {
		id = YUG_rare_minerals_exploitation
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = YUG_expand_the_mining_industry }
		x = -3
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
			}
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					105 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
							controller = {
								tag = MNT
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				105 = {
					add_resource = {
						type = tungsten
						amount = 8
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 105 802 }
					add_resource = {
						type = tungsten
						amount = 8
					}
				}
			}
			if = {
				limit = {
					109 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
							controller = {
								tag = MNT
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				109 = {
					add_resource = {
						type = chromium
						amount = 8
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 109 103 }
					add_resource = {
						type = chromium
						amount = 8
					}
				}
			}
		}
	}

	focus = {
		id = YUG_exploit_the_pannonian_deposits
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = YUG_rare_minerals_exploitation }
		x = 0
		y = 1
		relative_position_id = YUG_rare_minerals_exploitation

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
			}
		}

		available = {
			45 = {
				OR = {
					is_fully_controlled_by = ROOT
					controller = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					45 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				45 = {
					add_resource = {
						type = oil
						amount = 8
					}
				}
			}
		}
	}

	focus = {
		id = YUG_develop_civilian_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = YUG_expand_the_mining_industry }
		mutually_exclusive = { focus = YUG_develop_military_industry }
		x = -1
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 60
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 853 102 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 109 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_expand_the_university_of_zagreb
		icon = GFX_focus_research
		prerequisite = { focus = YUG_develop_civilian_industry focus = YUG_develop_military_industry }
		x = 0
		y = 3
		relative_position_id = YUG_industrialization_program

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_idea = YUG_idea_croatian_opposition
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_integrated_rail_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = YUG_expand_the_university_of_zagreb }
		mutually_exclusive = { focus = YUG_improve_serbian_rail_network }
		x = 0
		y = 2
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			every_owned_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					owner = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = SER
							original_tag = SLV
							original_tag = CRO
							original_tag = MNT
							original_tag = KOS
							original_tag = BOS
							original_tag = HRZ
							original_tag = MAC
							original_tag = TRA
							original_tag = HUN
							original_tag = BUL
						}
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_improve_light_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = YUG_integrated_rail_network focus = YUG_improve_serbian_rail_network }
		x = 1
		y = 3
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 104 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 106 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_develop_slovenian_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = YUG_integrated_rail_network }
		x = 0
		y = 4
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			OR = {
				853 = {
					OR = {
						is_fully_controlled_by = ROOT
						controller = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
						}
						controller = {
							tag = SLV
							is_in_faction_with = ROOT
							has_full_control_of_state = PREV
						}
					}
				}
				102 = {
					OR = {
						is_fully_controlled_by = ROOT
						controller = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
						}
						controller = {
							tag = SLV
							is_in_faction_with = ROOT
							has_full_control_of_state = PREV
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
		
		}

		completion_reward = {
			if = {
				limit = {
					853 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
							controller = {
								tag = SLV
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				853 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					102 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
							controller = {
								tag = SLV
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				102 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = YUG_local_self_management
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = YUG_develop_slovenian_industry }
		x = 0
		y = 1
		relative_position_id = YUG_develop_slovenian_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_local_self_management
		}
	}

	focus = {
		id = YUG_expand_the_university_of_ljubljana
		icon = GFX_focus_research
		prerequisite = { focus = YUG_develop_slovenian_industry }
		x = -2
		y = 1
		relative_position_id = YUG_develop_slovenian_industry

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_idea = YUG_idea_slovene_nationalism
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_develop_military_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = YUG_expand_the_mining_industry }
		mutually_exclusive = { focus = YUG_develop_civilian_industry }
		x = 1
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_improve_serbian_rail_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = YUG_expand_the_university_of_zagreb }
		mutually_exclusive = { focus = YUG_integrated_rail_network }
		x = 0
		y = 2
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		available = {
			OR = {
				has_full_control_of_state = 45
				has_full_control_of_state = 105
				has_full_control_of_state = 107
				has_full_control_of_state = 108
				has_full_control_of_state = 764
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					45 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				45 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					105 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				105 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					107 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				107 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					108 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				108 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					764 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				764 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					803 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				803 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = YUG_serbian_steel
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = YUG_improve_serbian_rail_network }
		x = 1
		y = 3
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_full_control_of_state = 108
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			108 = {
				add_resource = {
					type = steel
					amount = 16
				}
			}
		}
	}

	focus = {
		id = YUG_expand_the_university_of_belgrad
		icon = GFX_focus_research
		prerequisite = { focus = YUG_improve_serbian_rail_network }
		x = 0
		y = 4
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_central_management
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = YUG_expand_the_university_of_belgrad }
		x = 0
		y = 5
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_central_management
		}
	}

	focus = {
		id = YUG_expand_the_sarajevo_arsenals
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = YUG_local_self_management focus = YUG_central_management }
		x = 1
		y = 1
		relative_position_id = YUG_local_self_management

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			104 = {
				OR = {
					is_fully_controlled_by = ROOT
					controller = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
					}
					controller = {
						tag = BOS
						is_in_faction_with = ROOT
						has_full_control_of_state = PREV
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					104 = {
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
							controller = {
								tag = BOS
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}
				104 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

}